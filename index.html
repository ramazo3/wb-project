<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Timeline with Estimated Dates</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a1a1a;
            color: #f3f4f6;
            padding: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            width: 100%;
            max-width: 1200px;
            background-color: #2a2a2a;
            padding: 2.5rem;
            border-radius: 1rem;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2);
        }
        .chart-container {
            display: flex;
            justify-content: center;
        }
        .chart-bar {
            fill: #4c8bf5;
            transition: fill 0.3s ease, transform 0.3s ease;
            cursor: pointer;
        }
        .chart-bar:hover {
            fill: #3e70c7;
            transform: scale(1.01);
        }
        .axis-label {
            fill: #cbd5e1;
            font-size: 14px;
        }
        .axis path, .axis line {
            stroke: #4b5563;
        }
        .axis text {
            fill: #9ca3af;
        }
        .domain {
            stroke: #4b5563 !important;
        }
        .label-text {
            fill: #fff;
            font-size: 12px;
            font-weight: bold;
            text-anchor: end;
            transform: translateX(-5px);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-3xl sm:text-4xl font-bold text-center mb-6 text-gray-100">Estimated Project Timeline</h1>
        <div class="chart-container">
            <svg id="gantt-chart" class="w-full"></svg>
        </div>
        <p class="text-center text-sm text-gray-400 mt-6">
            This chart visualizes the estimated duration of each project task over a 20-week timeline.
        </p>
    </div>

    <script>
        // Data from your Excel file with estimated start and end weeks
        const data = [
            { "id": "1.1", "milestone": "Set up Rust project, dev env, and CI/CD", "devHours": 80, "startWeek": 1, "endWeek": 2 },
            { "id": "1.2", "milestone": "Define core interfaces for MORK, MeTTa, and smart contracts", "devHours": 100, "startWeek": 1, "endWeek": 3 },
            { "id": "1.5", "milestone": "Implement wallet auth and API gateway", "devHours": 60, "startWeek": 2, "endWeek": 3 },
            { "id": "1.3", "milestone": "Integrate MORK for event logging and CRDTs", "devHours": 120, "startWeek": 3, "endWeek": 5 },
            { "id": "1.4", "milestone": "Deploy Kubernetes operator on GCP/AWS", "devHours": 90, "startWeek": 4, "endWeek": 6 },
            { "id": "2.1", "milestone": "Create Rholang contracts for permissioned lenses", "devHours": 100, "startWeek": 4, "endWeek": 6 },
            { "id": "2.2", "milestone": "Develop smart contracts for ASI-WB token, micropayments, and DAO", "devHours": 150, "startWeek": 5, "endWeek": 9 },
            { "id": "2.3", "milestone": "Implement reputation system smart contract", "devHours": 60, "startWeek": 7, "endWeek": 8 },
            { "id": "2.4", "milestone": "Develop interface for chain follower actions", "devHours": 40, "startWeek": 8, "endWeek": 9 },
            { "id": "3.1", "milestone": "Build data ingestion pipelines from external tools", "devHours": 160, "startWeek": 6, "endWeek": 10 },
            { "id": "3.2", "milestone": "Set up the SNET DAS for decentralized data storage", "devHours": 120, "startWeek": 7, "endWeek": 10 },
            { "id": "3.3", "milestone": "Implement the Hyperon/MeTTa-based LLM interface", "devHours": 120, "startWeek": 9, "endWeek": 12 },
            { "id": "4.1", "milestone": "Design and build a unified, responsive frontend framework", "devHours": 180, "startWeek": 4, "endWeek": 8 },
            { "id": "4.2", "milestone": "Develop the frontend components", "devHours": 160, "startWeek": 8, "endWeek": 12 },
            { "id": "4.3", "milestone": "Implement individual and business-centric UI components", "devHours": 150, "startWeek": 12, "endWeek": 16 },
            { "id": "4.4", "milestone": "Focus on profiles and avatars", "devHours": 160, "startWeek": 12, "endWeek": 16 },
            { "id": "5.1", "milestone": "Develop 3 core micro-apps", "devHours": 350, "startWeek": 10, "endWeek": 18 }
        ];

        // Set up the SVG container dimensions
        const margin = { top: 20, right: 20, bottom: 40, left: 280 };
        const width = 900 - margin.left - margin.right;
        const height = data.length * 40;

        const svg = d3.select("#gantt-chart")
            .attr("viewBox", `0 0 ${width + margin.left + margin.right} ${height + margin.top + margin.bottom}`)
            .append("g")
            .attr("transform", `translate(${margin.left}, ${margin.top})`);

        // Set up the scales
        const xScale = d3.scaleLinear()
            .domain([0, d3.max(data, d => d.endWeek)])
            .range([0, width]);

        const yScale = d3.scaleBand()
            .domain(data.map(d => d.milestone))
            .range([0, height])
            .padding(0.2);

        // Add the x-axis (Weeks)
        const xAxis = d3.axisBottom(xScale)
            .tickValues(d3.range(0, d3.max(data, d => d.endWeek) + 2, 2))
            .tickFormat(d => `Week ${d}`);

        svg.append("g")
            .attr("class", "axis axis--x")
            .attr("transform", `translate(0, ${height})`)
            .call(xAxis);

        // Add the y-axis (Milestones)
        svg.append("g")
            .attr("class", "axis axis--y")
            .call(d3.axisLeft(yScale).tickSize(0).tickPadding(10));

        // Add the bars
        const bars = svg.selectAll(".bar")
            .data(data)
            .enter().append("g");

        bars.append("rect")
            .attr("class", "chart-bar")
            .attr("y", d => yScale(d.milestone))
            .attr("x", d => xScale(d.startWeek))
            .attr("width", d => xScale(d.endWeek) - xScale(d.startWeek))
            .attr("height", yScale.bandwidth())
            .attr("rx", 5)
            .attr("ry", 5);

        // Add the dev hours and week range labels to the bars
        bars.append("text")
            .attr("class", "label-text")
            .attr("y", d => yScale(d.milestone) + yScale.bandwidth() / 2)
            .attr("x", d => xScale(d.endWeek) - 5)
            .attr("dy", "0.35em")
            .text(d => `${d.devHours} hrs`);

    </script>
</body>
</html>
